import{n as z,am as V,an as g,ao as k,v as w,k as C,p as x,b as B,m as N,w as P,c as U,ap as I,f as A,e as F,a1 as L,a2 as T,d as $}from"./index-Bm7lfUbx.js";import{d as h,e as j,z as S,l as q,w as D,o as u,c as b,U as E,u as o,S as y,R as n,T as M,r as O,n as R,L as G,j as H,a8 as J,P as t,b as K}from"./vue-CpysqPi9.js";const Q=z({size:{type:[Number,String],values:V,default:"",validator:c=>g(c)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:k},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:w(String),default:"cover"}}),W={error:c=>c instanceof Event},X=["src","alt","srcset"],Y=h({name:"ElAvatar"}),Z=h({...Y,props:Q,emits:W,setup(c,{emit:f}){const a=c,s=C("avatar"),l=j(!1),_=S(()=>{const{size:e,icon:p,shape:d}=a,r=[s.b()];return q(e)&&r.push(s.m(e)),p&&r.push(s.m("icon")),d&&r.push(s.m(d)),r}),i=S(()=>{const{size:e}=a;return g(e)?s.cssVarBlock({size:x(e)||""}):void 0}),v=S(()=>({objectFit:a.fit}));D(()=>a.src,()=>l.value=!1);function m(e){l.value=!0,f("error",e)}return(e,p)=>(u(),b("span",{class:R(o(_)),style:E(o(i))},[(e.src||e.srcSet)&&!l.value?(u(),b("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:E(o(v)),onError:m},null,44,X)):e.icon?(u(),y(o(B),{key:1},{default:n(()=>[(u(),y(M(e.icon)))]),_:1})):O(e.$slots,"default",{key:2})],6))}});var ee=N(Z,[["__file","avatar.vue"]]);const ae=P(ee),se=K("img",{src:I,alt:""},null,-1),le=h({__name:"index",setup(c){const f=U(),a=G({username:"",role:void 0});return H(()=>{const s=f.userinfo;a.username=s.username,a.role=s.role}),(s,l)=>{const _=ae,i=A,v=F,m=L,e=T,p=$,d=J("x-card");return u(),y(d,{title:"个人信息",full:""},{default:n(()=>[t(p,{model:o(a),"label-width":"80px","label-suffix":"：",style:{"max-width":"460px",margin:"50px 0"}},{default:n(()=>[t(i,{label:"头像"},{default:n(()=>[t(_,{size:60},{default:n(()=>[se]),_:1})]),_:1}),t(i,{label:"姓名"},{default:n(()=>[t(v,{modelValue:o(a).username,"onUpdate:modelValue":l[0]||(l[0]=r=>o(a).username=r),placeholder:"请填写用户姓名"},null,8,["modelValue"])]),_:1}),t(i,{label:"角色"},{default:n(()=>[t(e,{modelValue:o(a).role,"onUpdate:modelValue":l[1]||(l[1]=r=>o(a).role=r),placeholder:"请选择用户角色",style:{width:"100%"}},{default:n(()=>[t(m,{label:"管理员",value:1}),t(m,{label:"普通用户",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})}}});export{le as default};
